(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1990],{50584:function(e){e.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},37866:function(e,t){!function(){"use strict";function e(t,r,o,s){return this instanceof e?(this.domain=t||void 0,this.path=r||"/",this.secure=!!o,this.script=!!s,this):new e(t,r,o,s)}function r(e,t,o){return e instanceof r?e:this instanceof r?(this.name=null,this.value=null,this.expiration_date=1/0,this.path=String(o||"/"),this.explicit_path=!1,this.domain=t||null,this.explicit_domain=!1,this.secure=!1,this.noscript=!1,e&&this.parse(e,t,o),this):new r(e,t,o)}e.All=Object.freeze(Object.create(null)),t.CookieAccessInfo=e,t.Cookie=r,r.prototype.toString=function(){var e=[this.name+"="+this.value];return this.expiration_date!==1/0&&e.push("expires="+new Date(this.expiration_date).toGMTString()),this.domain&&e.push("domain="+this.domain),this.path&&e.push("path="+this.path),this.secure&&e.push("secure"),this.noscript&&e.push("httponly"),e.join("; ")},r.prototype.toValueString=function(){return this.name+"="+this.value};var o=/[:](?=\s*[a-zA-Z0-9_\-]+\s*[=])/g;function s(){var e,t;return this instanceof s?(e=Object.create(null),this.setCookie=function(o,s,n){var i,a;if(i=(o=new r(o,s,n)).expiration_date<=Date.now(),void 0!==e[o.name]){for(t=e[o.name],a=0;a<t.length;a+=1)if(t[a].collidesWith(o))return i?(t.splice(a,1),0===t.length&&delete e[o.name],!1):(t[a]=o,o);return!i&&(t.push(o),o)}return!i&&(e[o.name]=[o],e[o.name])},this.getCookie=function(r,o){var s,n;if(t=e[r])for(n=0;n<t.length;n+=1)if((s=t[n]).expiration_date<=Date.now())0===t.length&&delete e[s.name];else if(s.matches(o))return s},this.getCookies=function(t){var r,o,s=[];for(r in e)(o=this.getCookie(r,t))&&s.push(o);return s.toString=function(){return s.join(":")},s.toValueString=function(){return s.map((function(e){return e.toValueString()})).join(";")},s},this):new s}r.prototype.parse=function(e,t,o){if(this instanceof r){var s,n=e.split(";").filter((function(e){return!!e})),i=n[0].match(/([^=]+)=([\s\S]*)/);if(!i)return void console.warn("Invalid cookie header encountered. Header: '"+e+"'");var a=i[1],h=i[2];if("string"!==typeof a||0===a.length||"string"!==typeof h)return void console.warn("Unable to extract values from cookie header. Cookie: '"+e+"'");for(this.name=a,this.value=h,s=1;s<n.length;s+=1)switch(a=(i=n[s].match(/([^=]+)(?:=([\s\S]*))?/))[1].trim().toLowerCase(),h=i[2],a){case"httponly":this.noscript=!0;break;case"expires":this.expiration_date=h?Number(Date.parse(h)):1/0;break;case"path":this.path=h?h.trim():"",this.explicit_path=!0;break;case"domain":this.domain=h?h.trim():"",this.explicit_domain=!!this.domain;break;case"secure":this.secure=!0}return this.explicit_path||(this.path=o||"/"),this.explicit_domain||(this.domain=t),this}return(new r).parse(e,t,o)},r.prototype.matches=function(t){return t===e.All||!(this.noscript&&t.script||this.secure&&!t.secure||!this.collidesWith(t))},r.prototype.collidesWith=function(e){if(this.path&&!e.path||this.domain&&!e.domain)return!1;if(this.path&&0!==e.path.indexOf(this.path))return!1;if(this.explicit_path&&0!==e.path.indexOf(this.path))return!1;var t=e.domain&&e.domain.replace(/^[\.]/,""),r=this.domain&&this.domain.replace(/^[\.]/,"");if(r===t)return!0;if(r){if(!this.explicit_domain)return!1;var o=t.indexOf(r);return-1!==o&&o===t.length-r.length}return!0},t.CookieJar=s,s.prototype.setCookies=function(e,t,s){var n,i,a=[];for(e=(e=Array.isArray(e)?e:e.split(o)).map((function(e){return new r(e,t,s)})),n=0;n<e.length;n+=1)i=e[n],this.setCookie(i,t,s)&&a.push(i);return a}}()},44020:function(e){"use strict";var t="%[a-f0-9]{2}",r=new RegExp(t,"gi"),o=new RegExp("("+t+")+","gi");function s(e,t){try{return decodeURIComponent(e.join(""))}catch(n){}if(1===e.length)return e;t=t||1;var r=e.slice(0,t),o=e.slice(t);return Array.prototype.concat.call([],s(r),s(o))}function n(e){try{return decodeURIComponent(e)}catch(n){for(var t=e.match(r),o=1;o<t.length;o++)t=(e=s(t,o).join("")).match(r);return e}}e.exports=function(e){if("string"!==typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return function(e){for(var r={"%FE%FF":"\ufffd\ufffd","%FF%FE":"\ufffd\ufffd"},s=o.exec(e);s;){try{r[s[0]]=decodeURIComponent(s[0])}catch(t){var i=n(s[0]);i!==s[0]&&(r[s[0]]=i)}s=o.exec(e)}r["%C2"]="\ufffd";for(var a=Object.keys(r),h=0;h<a.length;h++){var u=a[h];e=e.replace(new RegExp(u,"g"),r[u])}return e}(e)}}},79267:function(e,t,r){var o=r(8501),s=r(10861),n=e.exports;for(var i in o)o.hasOwnProperty(i)&&(n[i]=o[i]);function a(e){if("string"===typeof e&&(e=s.parse(e)),e.protocol||(e.protocol="https:"),"https:"!==e.protocol)throw new Error('Protocol "'+e.protocol+'" not supported. Expected "https:"');return e}n.request=function(e,t){return e=a(e),o.request.call(this,e,t)},n.get=function(e,t){return e=a(e),o.get.call(this,e,t)}},8501:function(e,t,r){var o=r(11989),s=r(55676),n=r(47529),i=r(50584),a=r(10861),h=t;h.request=function(e,t){e="string"===typeof e?a.parse(e):n(e);var s=-1===r.g.location.protocol.search(/^https?:$/)?"http:":"",i=e.protocol||s,h=e.hostname||e.host,u=e.port,p=e.path||"/";h&&-1!==h.indexOf(":")&&(h="["+h+"]"),e.url=(h?i+"//"+h:"")+(u?":"+u:"")+p,e.method=(e.method||"GET").toUpperCase(),e.headers=e.headers||{};var c=new o(e);return t&&c.on("response",t),c},h.get=function(e,t){var r=h.request(e,t);return r.end(),r},h.ClientRequest=o,h.IncomingMessage=s.IncomingMessage,h.Agent=function(){},h.Agent.defaultMaxSockets=4,h.globalAgent=new h.Agent,h.STATUS_CODES=i,h.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]},8725:function(e,t,r){var o;function s(){if(void 0!==o)return o;if(r.g.XMLHttpRequest){o=new r.g.XMLHttpRequest;try{o.open("GET",r.g.XDomainRequest?"/":"https://example.com")}catch(e){o=null}}else o=null;return o}function n(e){var t=s();if(!t)return!1;try{return t.responseType=e,t.responseType===e}catch(r){}return!1}function i(e){return"function"===typeof e}t.fetch=i(r.g.fetch)&&i(r.g.ReadableStream),t.writableStream=i(r.g.WritableStream),t.abortController=i(r.g.AbortController),t.arraybuffer=t.fetch||n("arraybuffer"),t.msstream=!t.fetch&&n("ms-stream"),t.mozchunkedarraybuffer=!t.fetch&&n("moz-chunked-arraybuffer"),t.overrideMimeType=t.fetch||!!s()&&i(s().overrideMimeType),o=null},11989:function(e,t,r){var o=r(48764).Buffer,s=r(34155),n=r(8725),i=r(35717),a=r(55676),h=r(88473),u=a.IncomingMessage,p=a.readyStates;var c=e.exports=function(e){var t,r=this;h.Writable.call(r),r._opts=e,r._body=[],r._headers={},e.auth&&r.setHeader("Authorization","Basic "+o.from(e.auth).toString("base64")),Object.keys(e.headers).forEach((function(t){r.setHeader(t,e.headers[t])}));var s=!0;if("disable-fetch"===e.mode||"requestTimeout"in e&&!n.abortController)s=!1,t=!0;else if("prefer-streaming"===e.mode)t=!1;else if("allow-wrong-content-type"===e.mode)t=!n.overrideMimeType;else{if(e.mode&&"default"!==e.mode&&"prefer-fast"!==e.mode)throw new Error("Invalid value for opts.mode");t=!0}r._mode=function(e,t){return n.fetch&&t?"fetch":n.mozchunkedarraybuffer?"moz-chunked-arraybuffer":n.msstream?"ms-stream":n.arraybuffer&&e?"arraybuffer":"text"}(t,s),r._fetchTimer=null,r.on("finish",(function(){r._onFinish()}))};i(c,h.Writable),c.prototype.setHeader=function(e,t){var r=e.toLowerCase();-1===l.indexOf(r)&&(this._headers[r]={name:e,value:t})},c.prototype.getHeader=function(e){var t=this._headers[e.toLowerCase()];return t?t.value:null},c.prototype.removeHeader=function(e){delete this._headers[e.toLowerCase()]},c.prototype._onFinish=function(){var e=this;if(!e._destroyed){var t=e._opts,o=e._headers,i=null;"GET"!==t.method&&"HEAD"!==t.method&&(i=new Blob(e._body,{type:(o["content-type"]||{}).value||""}));var a=[];if(Object.keys(o).forEach((function(e){var t=o[e].name,r=o[e].value;Array.isArray(r)?r.forEach((function(e){a.push([t,e])})):a.push([t,r])})),"fetch"===e._mode){var h=null;if(n.abortController){var u=new AbortController;h=u.signal,e._fetchAbortController=u,"requestTimeout"in t&&0!==t.requestTimeout&&(e._fetchTimer=r.g.setTimeout((function(){e.emit("requestTimeout"),e._fetchAbortController&&e._fetchAbortController.abort()}),t.requestTimeout))}r.g.fetch(e._opts.url,{method:e._opts.method,headers:a,body:i||void 0,mode:"cors",credentials:t.withCredentials?"include":"same-origin",signal:h}).then((function(t){e._fetchResponse=t,e._connect()}),(function(t){r.g.clearTimeout(e._fetchTimer),e._destroyed||e.emit("error",t)}))}else{var c=e._xhr=new r.g.XMLHttpRequest;try{c.open(e._opts.method,e._opts.url,!0)}catch(l){return void s.nextTick((function(){e.emit("error",l)}))}"responseType"in c&&(c.responseType=e._mode),"withCredentials"in c&&(c.withCredentials=!!t.withCredentials),"text"===e._mode&&"overrideMimeType"in c&&c.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in t&&(c.timeout=t.requestTimeout,c.ontimeout=function(){e.emit("requestTimeout")}),a.forEach((function(e){c.setRequestHeader(e[0],e[1])})),e._response=null,c.onreadystatechange=function(){switch(c.readyState){case p.LOADING:case p.DONE:e._onXHRProgress()}},"moz-chunked-arraybuffer"===e._mode&&(c.onprogress=function(){e._onXHRProgress()}),c.onerror=function(){e._destroyed||e.emit("error",new Error("XHR error"))};try{c.send(i)}catch(l){return void s.nextTick((function(){e.emit("error",l)}))}}}},c.prototype._onXHRProgress=function(){var e=this;(function(e){try{var t=e.status;return null!==t&&0!==t}catch(r){return!1}})(e._xhr)&&!e._destroyed&&(e._response||e._connect(),e._response._onXHRProgress())},c.prototype._connect=function(){var e=this;e._destroyed||(e._response=new u(e._xhr,e._fetchResponse,e._mode,e._fetchTimer),e._response.on("error",(function(t){e.emit("error",t)})),e.emit("response",e._response))},c.prototype._write=function(e,t,r){this._body.push(e),r()},c.prototype.abort=c.prototype.destroy=function(){var e=this;e._destroyed=!0,r.g.clearTimeout(e._fetchTimer),e._response&&(e._response._destroyed=!0),e._xhr?e._xhr.abort():e._fetchAbortController&&e._fetchAbortController.abort()},c.prototype.end=function(e,t,r){"function"===typeof e&&(r=e,e=void 0),h.Writable.prototype.end.call(this,e,t,r)},c.prototype.flushHeaders=function(){},c.prototype.setTimeout=function(){},c.prototype.setNoDelay=function(){},c.prototype.setSocketKeepAlive=function(){};var l=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"]},55676:function(e,t,r){var o=r(34155),s=r(48764).Buffer,n=r(8725),i=r(35717),a=r(88473),h=t.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},u=t.IncomingMessage=function(e,t,i,h){var u=this;if(a.Readable.call(u),u._mode=i,u.headers={},u.rawHeaders=[],u.trailers={},u.rawTrailers=[],u.on("end",(function(){o.nextTick((function(){u.emit("close")}))})),"fetch"===i){if(u._fetchResponse=t,u.url=t.url,u.statusCode=t.status,u.statusMessage=t.statusText,t.headers.forEach((function(e,t){u.headers[t.toLowerCase()]=e,u.rawHeaders.push(t,e)})),n.writableStream){var p=new WritableStream({write:function(e){return new Promise((function(t,r){u._destroyed?r():u.push(s.from(e))?t():u._resumeFetch=t}))},close:function(){r.g.clearTimeout(h),u._destroyed||u.push(null)},abort:function(e){u._destroyed||u.emit("error",e)}});try{return void t.body.pipeTo(p).catch((function(e){r.g.clearTimeout(h),u._destroyed||u.emit("error",e)}))}catch(f){}}var c=t.body.getReader();!function e(){c.read().then((function(t){if(!u._destroyed){if(t.done)return r.g.clearTimeout(h),void u.push(null);u.push(s.from(t.value)),e()}})).catch((function(e){r.g.clearTimeout(h),u._destroyed||u.emit("error",e)}))}()}else{if(u._xhr=e,u._pos=0,u.url=e.responseURL,u.statusCode=e.status,u.statusMessage=e.statusText,e.getAllResponseHeaders().split(/\r?\n/).forEach((function(e){var t=e.match(/^([^:]+):\s*(.*)/);if(t){var r=t[1].toLowerCase();"set-cookie"===r?(void 0===u.headers[r]&&(u.headers[r]=[]),u.headers[r].push(t[2])):void 0!==u.headers[r]?u.headers[r]+=", "+t[2]:u.headers[r]=t[2],u.rawHeaders.push(t[1],t[2])}})),u._charset="x-user-defined",!n.overrideMimeType){var l=u.rawHeaders["mime-type"];if(l){var d=l.match(/;\s*charset=([^;])(;|$)/);d&&(u._charset=d[1].toLowerCase())}u._charset||(u._charset="utf-8")}}};i(u,a.Readable),u.prototype._read=function(){var e=this._resumeFetch;e&&(this._resumeFetch=null,e())},u.prototype._onXHRProgress=function(){var e=this,t=e._xhr,o=null;switch(e._mode){case"text":if((o=t.responseText).length>e._pos){var n=o.substr(e._pos);if("x-user-defined"===e._charset){for(var i=s.alloc(n.length),a=0;a<n.length;a++)i[a]=255&n.charCodeAt(a);e.push(i)}else e.push(n,e._charset);e._pos=o.length}break;case"arraybuffer":if(t.readyState!==h.DONE||!t.response)break;o=t.response,e.push(s.from(new Uint8Array(o)));break;case"moz-chunked-arraybuffer":if(o=t.response,t.readyState!==h.LOADING||!o)break;e.push(s.from(new Uint8Array(o)));break;case"ms-stream":if(o=t.response,t.readyState!==h.LOADING)break;var u=new r.g.MSStreamReader;u.onprogress=function(){u.result.byteLength>e._pos&&(e.push(s.from(new Uint8Array(u.result.slice(e._pos)))),e._pos=u.result.byteLength)},u.onload=function(){e.push(null)},u.readAsArrayBuffer(o)}e._xhr.readyState===h.DONE&&"ms-stream"!==e._mode&&e.push(null)}},98355:function(e,t){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t}(Error);t.SecurityError=o;var s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t}(Error);t.InvalidStateError=s;var n=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t}(Error);t.NetworkError=n;var i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t}(Error);t.SyntaxError=i},59536:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(96763));var o=r(40335);t.XMLHttpRequestEventTarget=o.XMLHttpRequestEventTarget},67296:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){this.type=e,this.bubbles=!1,this.cancelable=!1,this.loaded=0,this.lengthComputable=!1,this.total=0};t.ProgressEvent=r},40335:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){this.listeners={}}return e.prototype.addEventListener=function(e,t){e=e.toLowerCase(),this.listeners[e]=this.listeners[e]||[],this.listeners[e].push(t.handleEvent||t)},e.prototype.removeEventListener=function(e,t){if(e=e.toLowerCase(),this.listeners[e]){var r=this.listeners[e].indexOf(t.handleEvent||t);r<0||this.listeners[e].splice(r,1)}},e.prototype.dispatchEvent=function(e){var t=e.type.toLowerCase();if(e.target=this,this.listeners[t])for(var r=0,o=this.listeners[t];r<o.length;r++){o[r].call(this,e)}var s=this["on"+t];return s&&s.call(this,e),!0},e}();t.XMLHttpRequestEventTarget=r},77983:function(e,t,r){"use strict";var o=r(48764).Buffer,s=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){function t(){var t=e.call(this)||this;return t._contentType=null,t._body=null,t._reset(),t}return s(t,e),t.prototype._reset=function(){this._contentType=null,this._body=null},t.prototype._setData=function(e){if(null!=e)if("string"===typeof e)0!==e.length&&(this._contentType="text/plain;charset=UTF-8"),this._body=new o(e,"utf-8");else if(o.isBuffer(e))this._body=e;else if(e instanceof ArrayBuffer){for(var t=new o(e.byteLength),r=new Uint8Array(e),s=0;s<e.byteLength;s++)t[s]=r[s];this._body=t}else{if(!(e.buffer&&e.buffer instanceof ArrayBuffer))throw new Error("Unsupported send() data "+e);t=new o(e.byteLength);var n=e.byteOffset;for(r=new Uint8Array(e.buffer),s=0;s<e.byteLength;s++)t[s]=r[s+n];this._body=t}},t.prototype._finalizeHeaders=function(e,t){this._contentType&&!t["content-type"]&&(e["Content-Type"]=this._contentType),this._body&&(e["Content-Length"]=this._body.length.toString())},t.prototype._startUpload=function(e){this._body&&e.write(this._body),e.end()},t}(r(40335).XMLHttpRequestEventTarget);t.XMLHttpRequestUpload=n},96763:function(e,t,r){"use strict";var o=r(34155),s=r(48764).Buffer,n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),i=this&&this.__assign||Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++)for(var s in t=arguments[r])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e};Object.defineProperty(t,"__esModule",{value:!0});var a=r(8501),h=r(79267),u=r(67435),p=r(10861),c=r(67296),l=r(98355),d=r(40335),f=r(77983),_=r(37866),y=function(e){function t(r){void 0===r&&(r={});var s=e.call(this)||this;return s.UNSENT=t.UNSENT,s.OPENED=t.OPENED,s.HEADERS_RECEIVED=t.HEADERS_RECEIVED,s.LOADING=t.LOADING,s.DONE=t.DONE,s.onreadystatechange=null,s.readyState=t.UNSENT,s.response=null,s.responseText="",s.responseType="",s.status=0,s.statusText="",s.timeout=0,s.upload=new f.XMLHttpRequestUpload,s.responseUrl="",s.withCredentials=!1,s._method=null,s._url=null,s._sync=!1,s._headers={},s._loweredHeaders={},s._mimeOverride=null,s._request=null,s._response=null,s._responseParts=null,s._responseHeaders=null,s._aborting=null,s._error=null,s._loadedBytes=0,s._totalBytes=0,s._lengthComputable=!1,s._restrictedMethods={CONNECT:!0,TRACE:!0,TRACK:!0},s._restrictedHeaders={"accept-charset":!0,"accept-encoding":!0,"access-control-request-headers":!0,"access-control-request-method":!0,connection:!0,"content-length":!0,cookie:!0,cookie2:!0,date:!0,dnt:!0,expect:!0,host:!0,"keep-alive":!0,origin:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,via:!0},s._privateHeaders={"set-cookie":!0,"set-cookie2":!0},s._userAgent="Mozilla/5.0 ("+u.type()+" "+u.arch()+") node.js/"+o.versions.node+" v8/"+o.versions.v8,s._anonymous=r.anon||!1,s}return n(t,e),t.prototype.open=function(e,r,o,s,n){if(void 0===o&&(o=!0),e=e.toUpperCase(),this._restrictedMethods[e])throw new t.SecurityError("HTTP method "+e+" is not allowed in XHR");var i=this._parseUrl(r,s,n);this.readyState===t.HEADERS_RECEIVED||(this.readyState,t.LOADING),this._method=e,this._url=i,this._sync=!o,this._headers={},this._loweredHeaders={},this._mimeOverride=null,this._setReadyState(t.OPENED),this._request=null,this._response=null,this.status=0,this.statusText="",this._responseParts=[],this._responseHeaders=null,this._loadedBytes=0,this._totalBytes=0,this._lengthComputable=!1},t.prototype.setRequestHeader=function(e,r){if(this.readyState!==t.OPENED)throw new t.InvalidStateError("XHR readyState must be OPENED");var o=e.toLowerCase();this._restrictedHeaders[o]||/^sec-/.test(o)||/^proxy-/.test(o)?console.warn('Refused to set unsafe header "'+e+'"'):(r=r.toString(),null!=this._loweredHeaders[o]?(e=this._loweredHeaders[o],this._headers[e]=this._headers[e]+", "+r):(this._loweredHeaders[o]=e,this._headers[e]=r))},t.prototype.send=function(e){if(this.readyState!==t.OPENED)throw new t.InvalidStateError("XHR readyState must be OPENED");if(this._request)throw new t.InvalidStateError("send() already called");switch(this._url.protocol){case"file:":return this._sendFile(e);case"http:":case"https:":return this._sendHttp(e);default:throw new t.NetworkError("Unsupported protocol "+this._url.protocol)}},t.prototype.abort=function(){null!=this._request&&(this._request.abort(),this._setError(),this._dispatchProgress("abort"),this._dispatchProgress("loadend"))},t.prototype.getResponseHeader=function(e){if(null==this._responseHeaders||null==e)return null;var t=e.toLowerCase();return this._responseHeaders.hasOwnProperty(t)?this._responseHeaders[e.toLowerCase()]:null},t.prototype.getAllResponseHeaders=function(){var e=this;return null==this._responseHeaders?"":Object.keys(this._responseHeaders).map((function(t){return t+": "+e._responseHeaders[t]})).join("\r\n")},t.prototype.overrideMimeType=function(e){if(this.readyState===t.LOADING||this.readyState===t.DONE)throw new t.InvalidStateError("overrideMimeType() not allowed in LOADING or DONE");this._mimeOverride=e.toLowerCase()},t.prototype.nodejsSet=function(e){if(this.nodejsHttpAgent=e.httpAgent||this.nodejsHttpAgent,this.nodejsHttpsAgent=e.httpsAgent||this.nodejsHttpsAgent,e.hasOwnProperty("baseUrl")){if(null!=e.baseUrl)if(!p.parse(e.baseUrl,!1,!0).protocol)throw new t.SyntaxError("baseUrl must be an absolute URL");this.nodejsBaseUrl=e.baseUrl}},t.nodejsSet=function(e){t.prototype.nodejsSet(e)},t.prototype._setReadyState=function(e){this.readyState=e,this.dispatchEvent(new c.ProgressEvent("readystatechange"))},t.prototype._sendFile=function(e){throw new Error("Protocol file: not implemented")},t.prototype._sendHttp=function(e){if(this._sync)throw new Error("Synchronous XHR processing not implemented");!e||"GET"!==this._method&&"HEAD"!==this._method?e=e||"":(console.warn("Discarding entity body for "+this._method+" requests"),e=null),this.upload._setData(e),this._finalizeHeaders(),this._sendHxxpRequest()},t.prototype._sendHxxpRequest=function(){var e=this;if(this.withCredentials){var r=t.cookieJar.getCookies(_.CookieAccessInfo(this._url.hostname,this._url.pathname,"https:"===this._url.protocol)).toValueString();this._headers.cookie=this._headers.cookie2=r}var o="http:"===this._url.protocol?[a,this.nodejsHttpAgent]:[h,this.nodejsHttpsAgent],s=o[0],n=o[1],i=s.request.bind(s)({hostname:this._url.hostname,port:+this._url.port,path:this._url.path,auth:this._url.auth,method:this._method,headers:this._headers,agent:n});this._request=i,this.timeout&&i.setTimeout(this.timeout,(function(){return e._onHttpTimeout(i)})),i.on("response",(function(t){return e._onHttpResponse(i,t)})),i.on("error",(function(t){return e._onHttpRequestError(i,t)})),this.upload._startUpload(i),this._request===i&&this._dispatchProgress("loadstart")},t.prototype._finalizeHeaders=function(){this._headers=i({},this._headers,{Connection:"keep-alive",Host:this._url.host,"User-Agent":this._userAgent},this._anonymous?{Referer:"about:blank"}:{}),this.upload._finalizeHeaders(this._headers,this._loweredHeaders)},t.prototype._onHttpResponse=function(e,r){var o=this;if(this._request===e){if(this.withCredentials&&(r.headers["set-cookie"]||r.headers["set-cookie2"])&&t.cookieJar.setCookies(r.headers["set-cookie"]||r.headers["set-cookie2"]),[301,302,303,307,308].indexOf(r.statusCode)>=0)return this._url=this._parseUrl(r.headers.location),this._method="GET",this._loweredHeaders["content-type"]&&(delete this._headers[this._loweredHeaders["content-type"]],delete this._loweredHeaders["content-type"]),null!=this._headers["Content-Type"]&&delete this._headers["Content-Type"],delete this._headers["Content-Length"],this.upload._reset(),this._finalizeHeaders(),void this._sendHxxpRequest();this._response=r,this._response.on("data",(function(e){return o._onHttpResponseData(r,e)})),this._response.on("end",(function(){return o._onHttpResponseEnd(r)})),this._response.on("close",(function(){return o._onHttpResponseClose(r)})),this.responseUrl=this._url.href.split("#")[0],this.status=r.statusCode,this.statusText=a.STATUS_CODES[this.status],this._parseResponseHeaders(r);var s=this._responseHeaders["content-length"]||"";this._totalBytes=+s,this._lengthComputable=!!s,this._setReadyState(t.HEADERS_RECEIVED)}},t.prototype._onHttpResponseData=function(e,r){this._response===e&&(this._responseParts.push(new s(r)),this._loadedBytes+=r.length,this.readyState!==t.LOADING&&this._setReadyState(t.LOADING),this._dispatchProgress("progress"))},t.prototype._onHttpResponseEnd=function(e){this._response===e&&(this._parseResponse(),this._request=null,this._response=null,this._setReadyState(t.DONE),this._dispatchProgress("load"),this._dispatchProgress("loadend"))},t.prototype._onHttpResponseClose=function(e){if(this._response===e){var r=this._request;this._setError(),r.abort(),this._setReadyState(t.DONE),this._dispatchProgress("error"),this._dispatchProgress("loadend")}},t.prototype._onHttpTimeout=function(e){this._request===e&&(this._setError(),e.abort(),this._setReadyState(t.DONE),this._dispatchProgress("timeout"),this._dispatchProgress("loadend"))},t.prototype._onHttpRequestError=function(e,r){this._request===e&&(this._setError(),e.abort(),this._setReadyState(t.DONE),this._dispatchProgress("error"),this._dispatchProgress("loadend"))},t.prototype._dispatchProgress=function(e){var r=new t.ProgressEvent(e);r.lengthComputable=this._lengthComputable,r.loaded=this._loadedBytes,r.total=this._totalBytes,this.dispatchEvent(r)},t.prototype._setError=function(){this._request=null,this._response=null,this._responseHeaders=null,this._responseParts=null},t.prototype._parseUrl=function(e,t,r){var o=null==this.nodejsBaseUrl?e:p.resolve(this.nodejsBaseUrl,e),s=p.parse(o,!1,!0);s.hash=null;var n=(s.auth||"").split(":"),i=n[0],a=n[1];return(i||a||t||r)&&(s.auth=(t||i||"")+":"+(r||a||"")),s},t.prototype._parseResponseHeaders=function(e){for(var t in this._responseHeaders={},e.headers){var r=t.toLowerCase();this._privateHeaders[r]||(this._responseHeaders[r]=e.headers[t])}null!=this._mimeOverride&&(this._responseHeaders["content-type"]=this._mimeOverride)},t.prototype._parseResponse=function(){var e=s.concat(this._responseParts);switch(this._responseParts=null,this.responseType){case"json":this.responseText=null;try{this.response=JSON.parse(e.toString("utf-8"))}catch(n){this.response=null}return;case"buffer":return this.responseText=null,void(this.response=e);case"arraybuffer":this.responseText=null;for(var t=new ArrayBuffer(e.length),r=new Uint8Array(t),o=0;o<e.length;o++)r[o]=e[o];return void(this.response=t);case"text":default:try{this.responseText=e.toString(this._parseResponseEncoding())}catch(i){this.responseText=e.toString("binary")}this.response=this.responseText}},t.prototype._parseResponseEncoding=function(){return/;\s*charset=(.*)$/.exec(this._responseHeaders["content-type"]||"")[1]||"utf-8"},t.ProgressEvent=c.ProgressEvent,t.InvalidStateError=l.InvalidStateError,t.NetworkError=l.NetworkError,t.SecurityError=l.SecurityError,t.SyntaxError=l.SyntaxError,t.XMLHttpRequestUpload=f.XMLHttpRequestUpload,t.UNSENT=0,t.OPENED=1,t.HEADERS_RECEIVED=2,t.LOADING=3,t.DONE=4,t.cookieJar=_.CookieJar(),t}(d.XMLHttpRequestEventTarget);t.XMLHttpRequest=y,y.prototype.nodejsHttpAgent=a.globalAgent,y.prototype.nodejsHttpsAgent=h.globalAgent,y.prototype.nodejsBaseUrl=null}}]);