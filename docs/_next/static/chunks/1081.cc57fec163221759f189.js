(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1081],{76358:function(e,t,n){"use strict";n.r(t),n.d(t,{AccountNameRequiredError:function(){return d},AccountNotSupported:function(){return l},AmountRequired:function(){return h},BluetoothRequired:function(){return p},BtcUnmatchedApp:function(){return f},CantOpenDevice:function(){return g},CantScanQRCode:function(){return be},CashAddrNotSupported:function(){return E},CurrencyNotSupported:function(){return S},DBNotReset:function(){return Ye},DBWrongPassword:function(){return Qe},DeviceAppVerifyNotSupported:function(){return I},DeviceGenuineSocketEarlyClose:function(){return A},DeviceHalted:function(){return m},DeviceInOSUExpected:function(){return T},DeviceNameInvalid:function(){return D},DeviceNotGenuineError:function(){return N},DeviceOnDashboardExpected:function(){return v},DeviceOnDashboardUnexpected:function(){return C},DeviceShouldStayInApp:function(){return xe},DeviceSocketFail:function(){return U},DeviceSocketNoBulkStatus:function(){return y},DisconnectedDevice:function(){return w},DisconnectedDeviceDuringOperation:function(){return O},ETHAddressNonEIP:function(){return Fe},EnpointConfigError:function(){return R},EthAppPleaseEnableContractData:function(){return x},FeeEstimationFailed:function(){return B},FeeNotLoaded:function(){return Le},FeeRequired:function(){return Me},FeeTooHigh:function(){return Ge},FirmwareNotRecognized:function(){return _},FirmwareOrAppUpdateRequired:function(){return Ve},GasLessThanEstimate:function(){return ce},GenuineCheckFailed:function(){return We},HardResetFail:function(){return k},InvalidAddress:function(){return F},InvalidAddressBecauseDestinationIsAlsoSource:function(){return b},InvalidXRPTag:function(){return P},LatestMCUInstalledError:function(){return L},LedgerAPI4xx:function(){return ze},LedgerAPI5xx:function(){return Ke},LedgerAPIError:function(){return G},LedgerAPIErrorWithMessage:function(){return q},LedgerAPINotAvailable:function(){return H},MCUNotGenuineToDashboard:function(){return fe},ManagerAppAlreadyInstalledError:function(){return W},ManagerAppDepInstallRequired:function(){return K},ManagerAppDepUninstallRequired:function(){return V},ManagerAppRelyOnBTCError:function(){return z},ManagerDeviceLockedError:function(){return j},ManagerFirmwareNotEnoughSpaceError:function(){return Q},ManagerNotEnoughSpaceError:function(){return Y},ManagerUninstallBTCDep:function(){return X},NetworkDown:function(){return J},NoAccessToCamera:function(){return oe},NoAddressesFound:function(){return Z},NoDBPathGiven:function(){return je},NotEnoughBalance:function(){return $},NotEnoughBalanceBecauseDestinationNotCreated:function(){return re},NotEnoughBalanceInParentAccount:function(){return te},NotEnoughBalanceToDelegate:function(){return ee},NotEnoughGas:function(){return ie},NotEnoughSpendableBalance:function(){return ne},NotSupportedLegacyAddress:function(){return ae},PairingFailed:function(){return He},PasswordIncorrectError:function(){return ue},PasswordsDontMatchError:function(){return se},RecipientRequired:function(){return ge},RecommendSubAccountsToEmpty:function(){return de},RecommendUndelegation:function(){return le},StatusCodes:function(){return Je},SyncError:function(){return qe},TimeoutTagged:function(){return he},TransportError:function(){return Xe},TransportInterfaceNotAvailable:function(){return we},TransportOpenUserCancelled:function(){return ye},TransportRaceCondition:function(){return Oe},TransportStatusError:function(){return $e},TransportWebUSBGestureRequired:function(){return Re},UnavailableTezosOriginatedAccountReceive:function(){return Ee},UnavailableTezosOriginatedAccountSend:function(){return Se},UnexpectedBootloader:function(){return pe},UnknownMCU:function(){return M},UpdateFetchFileFail:function(){return Ie},UpdateIncorrectHash:function(){return Ae},UpdateIncorrectSig:function(){return Ne},UpdateYourApp:function(){return ve},UserRefusedAddress:function(){return Te},UserRefusedAllowManager:function(){return De},UserRefusedDeviceNameChange:function(){return Ce},UserRefusedFirmwareUpdate:function(){return me},UserRefusedOnDevice:function(){return Ue},WebsocketConnectionError:function(){return Be},WebsocketConnectionFailed:function(){return _e},WrongAppForCurrency:function(){return Pe},WrongDeviceForAccount:function(){return ke},addCustomErrorDeserializer:function(){return i},createCustomErrorClass:function(){return a},deserializeError:function(){return c},getAltStatusMessage:function(){return Ze},serializeError:function(){return s}});var r={},o={},i=function(e,t){o[e]=t},a=function(e){var t=function(t,n){Object.assign(this,n),this.name=e,this.message=t||e,this.stack=(new Error).stack};return t.prototype=new Error,r[e]=t,t},c=function(e){if("object"===typeof e&&e){try{var t=JSON.parse(e.message);t.message&&t.name&&(e=t)}catch(l){}var n=void 0;if("string"===typeof e.name){var i=e.name,s=o[i];if(s)n=s(e);else{var u="Error"===i?Error:r[i];u||(console.warn("deserializing an unknown class '"+i+"'"),u=a(i)),n=Object.create(u.prototype);try{for(var d in e)e.hasOwnProperty(d)&&(n[d]=e[d])}catch(l){}}}else n=new Error(e.message);return!n.stack&&Error.captureStackTrace&&Error.captureStackTrace(n,c),n}return new Error(String(e))},s=function(e){return e?"object"===typeof e?u(e,[]):"function"===typeof e?"[Function: "+(e.name||"anonymous")+"]":e:e};function u(e,t){var n={};t.push(e);for(var r=0,o=Object.keys(e);r<o.length;r++){var i=o[r],a=e[i];"function"!==typeof a&&(a&&"object"===typeof a?-1!==t.indexOf(e[i])?n[i]="[Circular]":n[i]=u(e[i],t.slice(0)):n[i]=a)}return"string"===typeof e.name&&(n.name=e.name),"string"===typeof e.message&&(n.message=e.message),"string"===typeof e.stack&&(n.stack=e.stack),n}var d=a("AccountNameRequired"),l=a("AccountNotSupported"),h=a("AmountRequired"),p=a("BluetoothRequired"),f=a("BtcUnmatchedApp"),g=a("CantOpenDevice"),E=a("CashAddrNotSupported"),S=a("CurrencyNotSupported"),I=a("DeviceAppVerifyNotSupported"),A=a("DeviceGenuineSocketEarlyClose"),N=a("DeviceNotGenuine"),v=a("DeviceOnDashboardExpected"),C=a("DeviceOnDashboardUnexpected"),T=a("DeviceInOSUExpected"),m=a("DeviceHalted"),D=a("DeviceNameInvalid"),U=a("DeviceSocketFail"),y=a("DeviceSocketNoBulkStatus"),w=a("DisconnectedDevice"),O=a("DisconnectedDeviceDuringOperation"),R=a("EnpointConfig"),x=a("EthAppPleaseEnableContractData"),B=a("FeeEstimationFailed"),_=a("FirmwareNotRecognized"),k=a("HardResetFail"),P=a("InvalidXRPTag"),F=a("InvalidAddress"),b=a("InvalidAddressBecauseDestinationIsAlsoSource"),L=a("LatestMCUInstalledError"),M=a("UnknownMCU"),G=a("LedgerAPIError"),q=a("LedgerAPIErrorWithMessage"),H=a("LedgerAPINotAvailable"),W=a("ManagerAppAlreadyInstalled"),z=a("ManagerAppRelyOnBTC"),K=a("ManagerAppDepInstallRequired"),V=a("ManagerAppDepUninstallRequired"),j=a("ManagerDeviceLocked"),Q=a("ManagerFirmwareNotEnoughSpace"),Y=a("ManagerNotEnoughSpace"),X=a("ManagerUninstallBTCDep"),J=a("NetworkDown"),Z=a("NoAddressesFound"),$=a("NotEnoughBalance"),ee=a("NotEnoughBalanceToDelegate"),te=a("NotEnoughBalanceInParentAccount"),ne=a("NotEnoughSpendableBalance"),re=a("NotEnoughBalanceBecauseDestinationNotCreated"),oe=a("NoAccessToCamera"),ie=a("NotEnoughGas"),ae=a("NotSupportedLegacyAddress"),ce=a("GasLessThanEstimate"),se=a("PasswordsDontMatch"),ue=a("PasswordIncorrect"),de=a("RecommendSubAccountsToEmpty"),le=a("RecommendUndelegation"),he=a("TimeoutTagged"),pe=a("UnexpectedBootloader"),fe=a("MCUNotGenuineToDashboard"),ge=a("RecipientRequired"),Ee=a("UnavailableTezosOriginatedAccountReceive"),Se=a("UnavailableTezosOriginatedAccountSend"),Ie=a("UpdateFetchFileFail"),Ae=a("UpdateIncorrectHash"),Ne=a("UpdateIncorrectSig"),ve=a("UpdateYourApp"),Ce=a("UserRefusedDeviceNameChange"),Te=a("UserRefusedAddress"),me=a("UserRefusedFirmwareUpdate"),De=a("UserRefusedAllowManager"),Ue=a("UserRefusedOnDevice"),ye=a("TransportOpenUserCancelled"),we=a("TransportInterfaceNotAvailable"),Oe=a("TransportRaceCondition"),Re=a("TransportWebUSBGestureRequired"),xe=a("DeviceShouldStayInApp"),Be=a("WebsocketConnectionError"),_e=a("WebsocketConnectionFailed"),ke=a("WrongDeviceForAccount"),Pe=a("WrongAppForCurrency"),Fe=a("ETHAddressNonEIP"),be=a("CantScanQRCode"),Le=a("FeeNotLoaded"),Me=a("FeeRequired"),Ge=a("FeeTooHigh"),qe=a("SyncError"),He=a("PairingFailed"),We=a("GenuineCheckFailed"),ze=a("LedgerAPI4xx"),Ke=a("LedgerAPI5xx"),Ve=a("FirmwareOrAppUpdateRequired"),je=a("NoDBPathGiven"),Qe=a("DBWrongPassword"),Ye=a("DBNotReset");function Xe(e,t){this.name="TransportError",this.message=e,this.stack=(new Error).stack,this.id=t}Xe.prototype=new Error,i("TransportError",(function(e){return new Xe(e.message,e.id)}));var Je={PIN_REMAINING_ATTEMPTS:25536,INCORRECT_LENGTH:26368,MISSING_CRITICAL_PARAMETER:26624,COMMAND_INCOMPATIBLE_FILE_STRUCTURE:27009,SECURITY_STATUS_NOT_SATISFIED:27010,CONDITIONS_OF_USE_NOT_SATISFIED:27013,INCORRECT_DATA:27264,NOT_ENOUGH_MEMORY_SPACE:27268,REFERENCED_DATA_NOT_FOUND:27272,FILE_ALREADY_EXISTS:27273,INCORRECT_P1_P2:27392,INS_NOT_SUPPORTED:27904,CLA_NOT_SUPPORTED:28160,TECHNICAL_PROBLEM:28416,OK:36864,MEMORY_PROBLEM:37440,NO_EF_SELECTED:37888,INVALID_OFFSET:37890,FILE_NOT_FOUND:37892,INCONSISTENT_FILE:37896,ALGORITHM_NOT_SUPPORTED:38020,INVALID_KCV:38021,CODE_NOT_INITIALIZED:38914,ACCESS_CONDITION_NOT_FULFILLED:38916,CONTRADICTION_SECRET_CODE_STATUS:38920,CONTRADICTION_INVALIDATION:38928,CODE_BLOCKED:38976,MAX_VALUE_REACHED:38992,GP_AUTH_FAILED:25344,LICENSING:28482,HALTED:28586};function Ze(e){switch(e){case 26368:return"Incorrect length";case 26624:return"Missing critical parameter";case 27010:return"Security not satisfied (dongle locked or have invalid access rights)";case 27013:return"Condition of use not satisfied (denied by the user?)";case 27264:return"Invalid data received";case 27392:return"Invalid parameter received"}if(28416<=e&&e<=28671)return"Internal error, please report"}function $e(e){this.name="TransportStatusError";var t=Object.keys(Je).find((function(t){return Je[t]===e}))||"UNKNOWN_ERROR",n=Ze(e)||t,r=e.toString(16);this.message="Ledger device: "+n+" (0x"+r+")",this.stack=(new Error).stack,this.statusCode=e,this.statusText=t}$e.prototype=new Error,i("TransportStatusError",(function(e){return new $e(e.statusCode)}))},41081:function(e,t,n){"use strict";function r(e){let t=[];return e.split("/").forEach((e=>{let n=parseInt(e,10);isNaN(n)||(e.length>1&&"'"===e[e.length-1]&&(n+=2147483648),t.push(n))})),t}function o(e,t){function n(e,r,o){return e>=r.length?o:t(r[e],e).then((function(t){return o.push(t),n(e+1,r,o)}))}return Promise.resolve().then((()=>n(0,e,[])))}n.r(t),n.d(t,{default:function(){return N}});var i=n(28716),a=n(76358),c=(n(44431),n(61843)),s=n(8198),u=n(92182),d=n.n(u),l=n(48764).Buffer;const h=e=>{const t=e.toLowerCase();return t.startsWith("0x")?t:"0x"+t},p=(()=>{let e;return()=>{if(e)return e;const t=l.from(d(),"base64"),n={},r=[];let o=0;for(;o<t.length;){const e=t.readUInt32BE(o);o+=4;const i=t.slice(o,o+e);let a=0;const c=i.readUInt8(a);a+=1;const s=i.slice(a,a+c).toString("ascii");a+=c;const u=h(i.slice(a,a+20).toString("hex"));a+=20;const d=i.readUInt32BE(a);a+=4;const l=i.readUInt32BE(a);a+=4;const p={ticker:s,contractAddress:u,decimals:d,chainId:l,signature:i.slice(a),data:i};r.push(p),n[u]=p,o+=e}const i={list:()=>r,byContract:e=>n[e]};return e=i,i}})();var f=n(14480),g=n.n(f);var E=n(48764).Buffer;const S={eth:1,erc20:2,erc721:3,erc20mintable:4,erc721mintable:5};function I(e){return E.from(e.startsWith("0x")?e.slice(2):e,"hex")}function A(e){return e?I(e):null}class N{constructor(e,t="w0w"){this.transport=void 0,this.transport=e,e.decorateAppAPIMethods(this,["getAddress","provideERC20TokenInformation","signTransaction","signPersonalMessage","getAppConfiguration","signEIP712HashedMessage","starkGetPublicKey","starkSignOrder","starkSignOrder_v2","starkSignTransfer","starkSignTransfer_v2","starkProvideQuantum","starkProvideQuantum_v2","starkUnsafeSign","eth2GetPublicKey","eth2SetWithdrawalIndex","setExternalPlugin"],t)}getAddress(e,t,n){let o=r(e),i=E.alloc(1+4*o.length);return i[0]=o.length,o.forEach(((e,t)=>{i.writeUInt32BE(e,1+4*t)})),this.transport.send(224,2,t?1:0,n?1:0,i).then((e=>{let t={},r=e[0],o=e[1+r];return t.publicKey=e.slice(1,1+r).toString("hex"),t.address="0x"+e.slice(1+r+1,1+r+1+o).toString("ascii"),n&&(t.chainCode=e.slice(1+r+1+o,1+r+1+o+32).toString("hex")),t}))}provideERC20TokenInformation({data:e}){return v(this.transport,e)}async signTransaction(e,t){let n,u=r(e),d=0,l=E.from(t,"hex"),f=[],S=c.decode("0x"+t).map((e=>E.from(e.slice(2),"hex"))),I=0,A="";if(S.length>6){let e=E.from(c.encode(S.slice(-3)).slice(2),"hex");if(I=l.length-(e.length-1),e[0]>247){I++,I+=e[0]-247-1}const t=S[6],n=E.alloc(4);t.copy(n,4-t.length),A=(2*n.readUInt32BE(0)+35).toString(16).slice(0,-2),A.length%2===1&&(A="0"+A)}for(;d!==l.length;){let e=0===d?149-4*u.length:150,t=d+e>l.length?l.length-d:e;0!=I&&d+t==I&&t--;let n=E.alloc(0===d?1+4*u.length+t:t);0===d?(n[0]=u.length,u.forEach(((e,t)=>{n.writeUInt32BE(e,1+4*t)})),l.copy(n,1+4*u.length,d,d+t)):l.copy(n,0,d,d+t),f.push(n),d+=t}S=c.decode("0x"+t);const N={data:S[5],to:S[3]},T=async e=>{const t=(n=e,p().byContract(h(n)));var n;t&&((0,i.c)("ethereum","loading erc20token info for "+t.contractAddress+" ("+t.ticker+")"),await v(this.transport,t.data))};if(N.data.length>=10){const t=N.data.substring(0,10),n=((e,t)=>{const n=t.toLowerCase(),r=e.toLowerCase();if(r in g()){const e=g()[r];if(n in e)return{payload:e[n].serialized_data,signature:e[n].signature,plugin:e[n].plugin,erc20OfInterest:e[n].erc20OfInterest,abi:e.abi}}})(N.to,t);if(n){let{plugin:r,payload:o,signature:a,erc20OfInterest:c,abi:u}=n;if(r&&((0,i.c)("ethereum","loading plugin for "+t),await C(this.transport,o,a)),c&&c.length&&u){const t=new s.vU(u).parseTransaction(N).args;for(e of c){const n=e.split(".").reduce(((e,t)=>"-1"===t&&Array.isArray(e)?e[e.length-1]:e[t]),t);await T(n)}}}else(0,i.c)("ethereum","no infos for selector "+t);await T(N.to)}return o(f,((e,t)=>this.transport.send(224,4,0===t?0:128,0,e).then((e=>{n=e})))).then((()=>({v:A+n.slice(0,1).toString("hex"),r:n.slice(1,33).toString("hex"),s:n.slice(33,65).toString("hex")})),(e=>{throw(e=>e&&27264===e.statusCode?new a.EthAppPleaseEnableContractData("Please enable Contract data on the Ethereum app Settings"):e)(e)}))}getAppConfiguration(){return this.transport.send(224,6,0,0).then((e=>{let t={};return t.arbitraryDataEnabled=1&e[0],t.erc20ProvisioningNecessary=2&e[0],t.starkEnabled=4&e[0],t.starkv2Supported=8&e[0],t.version=e[1]+"."+e[2]+"."+e[3],t}))}signPersonalMessage(e,t){let n,i=r(e),a=0,c=E.from(t,"hex"),s=[];for(;a!==c.length;){let e=0===a?149-4*i.length-4:150,t=a+e>c.length?c.length-a:e,n=E.alloc(0===a?1+4*i.length+4+t:t);0===a?(n[0]=i.length,i.forEach(((e,t)=>{n.writeUInt32BE(e,1+4*t)})),n.writeUInt32BE(c.length,1+4*i.length),c.copy(n,1+4*i.length+4,a,a+t)):c.copy(n,0,a,a+t),s.push(n),a+=t}return o(s,((e,t)=>this.transport.send(224,8,0===t?0:128,0,e).then((e=>{n=e})))).then((()=>({v:n[0],r:n.slice(1,33).toString("hex"),s:n.slice(33,65).toString("hex")})))}signEIP712HashedMessage(e,t,n){const o=I(t),i=I(n);let a=r(e),c=E.alloc(1+4*a.length+32+32,0),s=0;return c[0]=a.length,a.forEach(((e,t)=>{c.writeUInt32BE(e,1+4*t)})),s=1+4*a.length,o.copy(c,s),s+=32,i.copy(c,s),this.transport.send(224,12,0,0,c).then((e=>({v:e[0],r:e.slice(1,33).toString("hex"),s:e.slice(33,65).toString("hex")})))}starkGetPublicKey(e,t){let n=r(e),o=E.alloc(1+4*n.length);return o[0]=n.length,n.forEach(((e,t)=>{o.writeUInt32BE(e,1+4*t)})),this.transport.send(240,2,t?1:0,0,o).then((e=>e.slice(0,e.length-2)))}starkSignOrder(e,t,n,o,i,a,c,s,u,d,l){const h=A(t),p=A(o);let f=r(e),g=E.alloc(1+4*f.length+20+32+20+32+4+4+8+8+4+4,0),S=0;return g[0]=f.length,f.forEach(((e,t)=>{g.writeUInt32BE(e,1+4*t)})),S=1+4*f.length,h&&h.copy(g,S),S+=20,E.from(n.toString(16).padStart(64,"0"),"hex").copy(g,S),S+=32,p&&p.copy(g,S),S+=20,E.from(i.toString(16).padStart(64,"0"),"hex").copy(g,S),S+=32,g.writeUInt32BE(a,S),S+=4,g.writeUInt32BE(c,S),S+=4,E.from(s.toString(16).padStart(16,"0"),"hex").copy(g,S),S+=8,E.from(u.toString(16).padStart(16,"0"),"hex").copy(g,S),S+=8,g.writeUInt32BE(d,S),S+=4,g.writeUInt32BE(l,S),this.transport.send(240,4,1,0,g).then((e=>({r:e.slice(1,33).toString("hex"),s:e.slice(33,65).toString("hex")})))}starkSignOrder_v2(e,t,n,o,i,a,c,s,u,d,l,h,p,f,g){const I=A(t),N=A(a);if(!(n in S))throw new Error("eth.starkSignOrderv2 invalid source quantization type="+n);if(!(c in S))throw new Error("eth.starkSignOrderv2 invalid destination quantization type="+c);let v=r(e),C=E.alloc(1+4*v.length+1+20+32+32+1+20+32+32+4+4+8+8+4+4,0),T=0;return C[0]=v.length,v.forEach(((e,t)=>{C.writeUInt32BE(e,1+4*t)})),T=1+4*v.length,C[T]=S[n],T++,I&&I.copy(C,T),T+=20,o&&E.from(o.toString(16).padStart(64,"0"),"hex").copy(C,T),T+=32,i&&E.from(i.toString(16).padStart(64,"0"),"hex").copy(C,T),T+=32,C[T]=S[c],T++,N&&N.copy(C,T),T+=20,s&&E.from(s.toString(16).padStart(64,"0"),"hex").copy(C,T),T+=32,u&&E.from(u.toString(16).padStart(64,"0"),"hex").copy(C,T),T+=32,C.writeUInt32BE(d,T),T+=4,C.writeUInt32BE(l,T),T+=4,E.from(h.toString(16).padStart(16,"0"),"hex").copy(C,T),T+=8,E.from(p.toString(16).padStart(16,"0"),"hex").copy(C,T),T+=8,C.writeUInt32BE(f,T),T+=4,C.writeUInt32BE(g,T),this.transport.send(240,4,3,0,C).then((e=>({r:e.slice(1,33).toString("hex"),s:e.slice(33,65).toString("hex")})))}starkSignTransfer(e,t,n,o,i,a,c,s,u){const d=A(t),l=I(o);let h=r(e),p=E.alloc(1+4*h.length+20+32+32+4+4+8+4+4,0),f=0;return p[0]=h.length,h.forEach(((e,t)=>{p.writeUInt32BE(e,1+4*t)})),f=1+4*h.length,d&&d.copy(p,f),f+=20,E.from(n.toString(16).padStart(64,"0"),"hex").copy(p,f),f+=32,l.copy(p,f),f+=32,p.writeUInt32BE(i,f),f+=4,p.writeUInt32BE(a,f),f+=4,E.from(c.toString(16).padStart(16,"0"),"hex").copy(p,f),f+=8,p.writeUInt32BE(s,f),f+=4,p.writeUInt32BE(u,f),this.transport.send(240,4,2,0,p).then((e=>({r:e.slice(1,33).toString("hex"),s:e.slice(33,65).toString("hex")})))}starkSignTransfer_v2(e,t,n,o,i,a,c,s,u,d,l,h,p){const f=A(t),g=I(a),N=A(h);if(!(n in S))throw new Error("eth.starkSignTransferv2 invalid quantization type="+n);let v=r(e),C=E.alloc(1+4*v.length+1+20+32+32+32+4+4+8+4+4+(N?52:0),0),T=0;return C[0]=v.length,v.forEach(((e,t)=>{C.writeUInt32BE(e,1+4*t)})),T=1+4*v.length,C[T]=S[n],T++,f&&f.copy(C,T),T+=20,o&&E.from(o.toString(16).padStart(64,"0"),"hex").copy(C,T),T+=32,i&&E.from(i.toString(16).padStart(64,"0"),"hex").copy(C,T),T+=32,g.copy(C,T),T+=32,C.writeUInt32BE(c,T),T+=4,C.writeUInt32BE(s,T),T+=4,E.from(u.toString(16).padStart(16,"0"),"hex").copy(C,T),T+=8,C.writeUInt32BE(d,T),T+=4,C.writeUInt32BE(l,T),N&&p&&(T+=4,E.from(p.toString(16).padStart(64,"0"),"hex").copy(C,T),T+=32,N.copy(C,T)),this.transport.send(240,4,N?5:4,0,C).then((e=>({r:e.slice(1,33).toString("hex"),s:e.slice(33,65).toString("hex")})))}starkProvideQuantum(e,t){const n=A(e);let r=E.alloc(52,0);return n&&n.copy(r,0),E.from(t.toString(16).padStart(64,"0"),"hex").copy(r,20),this.transport.send(240,8,0,0,r).then((()=>!0),(e=>{if(e&&27904===e.statusCode)return!1;throw e}))}starkProvideQuantum_v2(e,t,n,r){const o=A(e);if(!(t in S))throw new Error("eth.starkProvideQuantumV2 invalid quantization type="+t);let i=E.alloc(84,0),a=0;return o&&o.copy(i,a),a+=20,n&&E.from(n.toString(16).padStart(64,"0"),"hex").copy(i,a),a+=32,r&&E.from(r.toString(16).padStart(64,"0"),"hex").copy(i,a),this.transport.send(240,8,S[t],0,i).then((()=>!0),(e=>{if(e&&27904===e.statusCode)return!1;throw e}))}starkUnsafeSign(e,t){const n=I(t);let o=r(e),i=E.alloc(1+4*o.length+32),a=0;return i[0]=o.length,o.forEach(((e,t)=>{i.writeUInt32BE(e,1+4*t)})),a=1+4*o.length,n.copy(i,a),this.transport.send(240,10,0,0,i).then((e=>({r:e.slice(1,33).toString("hex"),s:e.slice(33,65).toString("hex")})))}eth2GetPublicKey(e,t){let n=r(e),o=E.alloc(1+4*n.length);return o[0]=n.length,n.forEach(((e,t)=>{o.writeUInt32BE(e,1+4*t)})),this.transport.send(224,14,t?1:0,0,o).then((e=>{let t={};return t.publicKey=e.slice(0,-2).toString("hex"),t}))}eth2SetWithdrawalIndex(e){let t=E.alloc(4,0);return t.writeUInt32BE(e,0),this.transport.send(224,16,0,0,t).then((()=>!0),(e=>{if(e&&27904===e.statusCode)return!1;throw e}))}setExternalPlugin(e,t,n){return C(this.transport,e,n)}}function v(e,t){return e.send(224,10,0,0,t).then((()=>!0),(e=>{if(e&&27904===e.statusCode)return!1;throw e}))}function C(e,t,n){let r=E.from(t,"hex"),o=E.from(n,"hex"),i=E.concat([r,o]);return e.send(224,18,0,0,i).then((()=>!0),(e=>{if(e&&27264===e.statusCode)return!1;if(e&&27012===e.statusCode)return!1;if(e&&27904===e.statusCode)return!1;throw e}))}},28716:function(e,t,n){"use strict";n.d(t,{c:function(){return i}});let r=0;const o=[],i=(e,t,n)=>{const i={type:e,id:String(++r),date:new Date};t&&(i.message=t),n&&(i.data=n),function(e){for(let n=0;n<o.length;n++)try{o[n](e)}catch(t){console.error(t)}}(i)},a=e=>(o.push(e),()=>{const t=o.indexOf(e);-1!==t&&(o[t]=o[o.length-1],o.pop())});"undefined"!==typeof window&&(window.__ledgerLogsListen=a)}}]);